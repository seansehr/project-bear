function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}!function(a){window.getMenuProducts=function(){if(Drupal.settings.mts.ids.length){var b=Drupal.settings.mts.ids.join("&id[]=");a.get("/shopify_product.json?image_style=product_list&variant_id=0&id[]="+b).then(function(a){a.list.length&&(Drupal.settings.mts.products=Drupal.settings.mts.products||{},a.list.forEach(function(a){Drupal.settings.mts.products[a.id]=a}))})}},Foundation.libs.topbar.events=function(b){var c=this,d=this.S;d(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(a){a.preventDefault(),c.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(b){var d=a(this).closest("li");!c.breakpoint()||d.hasClass("back")||d.hasClass("has-dropdown")||c.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(b){var e=d(this),f=d(b.target),g=e.closest("["+c.attr_name()+"]"),h=g.data(c.attr_name(!0)+"-init");return f.data("revealId")?void c.toggle():void(c.breakpoint()||h.is_hover&&!Modernizr.touch||(b.stopImmediatePropagation(),e.hasClass("hover")?(e.removeClass("hover").find("li").removeClass("hover"),e.parents("li.hover").removeClass("hover")):(e.addClass("hover"),a(e).siblings().removeClass("hover"),"A"===f[0].nodeName&&f.parent().hasClass("has-dropdown")&&b.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(a){if(c.breakpoint()){a.preventDefault();var b=d(this),e=b.closest("["+c.attr_name()+"]"),f=e.find("section, .top-bar-section"),g=(b.next(".dropdown").outerHeight(),b.closest("li"));e.data("index",e.data("index")+1),g.addClass("moved"),c.rtl?(f.css({right:-(100*e.data("index"))+"%"}),f.find(">.name").css({right:100*e.data("index")+"%"})):(f.css({left:-(100*e.data("index"))+"%"}),f.find(">.name").css({left:100*e.data("index")+"%"})),e.css("height",b.siblings(".dropdown").outerHeight(!0)+e.data("height"))}}),d(window).off(".topbar").on("resize.fndtn.topbar",c.throttle(function(){c.resize.call(c)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){d(this).trigger("resize.fndtn.topbar")}),d("body").off(".topbar").on("click.fndtn.topbar",function(a){var b=d(a.target).closest("li").closest("li.hover");b.length>0||d("["+c.attr_name()+"] li.hover").removeClass("hover")}),d(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(a){a.preventDefault();var b=d(this),e=b.closest("["+c.attr_name()+"]"),f=e.find("section, .top-bar-section"),g=(e.data(c.attr_name(!0)+"-init"),b.closest("li.moved")),h=g.parent();e.data("index",e.data("index")-1),c.rtl?(f.css({right:-(100*e.data("index"))+"%"}),f.find(">.name").css({right:100*e.data("index")+"%"})):(f.css({left:-(100*e.data("index"))+"%"}),f.find(">.name").css({left:100*e.data("index")+"%"})),0===e.data("index")?e.css("height",""):e.css("height",h.outerHeight(!0)+e.data("height")),setTimeout(function(){g.removeClass("moved")},300)}),d(this.scope).find(".dropdown a").focus(function(){a(this).parents(".has-dropdown").addClass("hover")}).blur(function(){a(this).parents(".has-dropdown").removeClass("hover")})}}(jQuery),function(a){Drupal.behaviors.mts={attach:function(b,c){if(b===document){var d=function(){var b=function(b){a("a, div",".product__tabs, .product__tab-content").removeClass("active"),a("."+b,".product__tabs, .product__tab-content").addClass("active")};a(".product__tabs").on("click","a",function(c){c.preventDefault(),b(a(this).attr("data-tab"))}),b("description")};d();var e=!1,f=a(".top-bar-fixed"),g=a(".l-header-region"),h=a(".js-back-to-top"),i=(new Waypoint({element:a(".top-bar-wrapper")[0],offset:function(){return-this.element.clientHeight},handler:function(a){"down"===a?(e=!0,h.addClass("visible")):(h.removeClass("visible"),e=!1)}}),0);a(window).scroll(function(){var b=a(this).scrollTop();e&&(b>i?(f.removeClass("visible"),g.removeClass("menu-visible")):(f.addClass("visible"),g.addClass("menu-visible"),h.removeClass("visible"))),i=b}),h.on("click",function(a){document.body.scrollTop=document.documentElement.scrollTop=0});var j=a(".js-brand-info",b),k=a(".js-brand-toggle",b);k.on("click",function(a){j.hasClass("active")!==k.hasClass("active")?(j.removeClass("active"),k.removeClass("active")):(j.toggleClass("active"),k.toggleClass("active"))});var l=!1,m=!1,n=function(){if(a("body").width()>641){var c=a(".block-block-4",b),d=c.children(),e=0;if(c.off(),d.each(function(){e+=a(this).width()}),e>c.width()){var f=d.first();l||m||(m=window.setTimeout(function(){l=window.setInterval(function(){f.css("margin-left","-=1"),parseInt(f.css("margin-left"),10)<-1*e&&(console.log(e),f.css("margin-left",c.width()))},22)},3e3))}}else clearInterval(l),clearTimeout(m),l=!1,m=!1,a(".block-block-4",b).children().first().css("margin-left","0"),a(".block-block-4",b).off().on("click",function(b){a(this).toggleClass("show-message")})};a(window).on("resize",n),n(),sessionStorage.getItem("siteMessage")||(a(".block-block-4",b).toggleClass("show-message"),sessionStorage.setItem("siteMessage","true")),getMenuProducts()}if(a(b).on("mouseenter",".product-dropdown",function(){var b=a(this),c=b.parents(".dropdown").find(".js-dropdown-products .product-container"),d=b.attr("data-products").split(",");c.each(function(a){var b=d[a];if(b&&Drupal.settings.mts.products&&Drupal.settings.mts.products[b]){Drupal.settings.mts.products[b];Drupal.shopify_enhancements.createProduct(Drupal.settings.mts.products[b],Drupal.settings.shopify_enhancements.activeCurrency,c.get(a))}else c.get(a).innerHTML=""})}),"undefined"!=typeof Drupal.settings.flexslider){var o=function(b){var c=b.target;a(".flex-direction-nav",c).appendTo(".flex-viewport",c)};for(var p in Drupal.settings.flexslider.instances)"product"===Drupal.settings.flexslider.instances[p]&&a("#"+p).on("start",o)}}}}(jQuery);